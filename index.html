<!DOCTYPE HTML>
    <html lang="en">
    <head>
        <title>My To Do List</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="style.css">
        <link href="https://fonts.googleapis.com/css2?family=Baloo&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    </head>
    
    <body>
        <div class="spotify-container">
            <div class="spotify-embed">
                <iframe src="https://open.spotify.com/embed/playlist/6iqMpmoZBPeuBleXURrJBL" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
            </div>
        </div>

        
        <main>
            <header>
                <h1 id="current-day"></h1>
            </header>
            
        
            <div class="flex-container">
                <nav class="nav__cat">
                    <ul>
                        <li><a href="#popup1" class="popup-box">School</a></li>
                        <li><a href="#popup2" class="popup-box">Grocery</a></li>
                        <li><a href="#popup3" class="popup-box">Other</a></li>
                    </ul>
                </nav>

                <section class="school__list">
                    <label><input type="checkbox" name="option1" value="Option1"> Option 1</label>
                    <label><input type="checkbox" name="option2" value="Option2"> Option 2</label>
                    <label><input type="checkbox" name="option3" value="Option3"> Option 3</label>
                </section>
            </div>
        </main>

        <!-- Popup for School -->
        <div id="popup1" class="popup">
            <div class="popup-content">
                <span class="close">&times;</span>
                <ul id="schoolTaskList">
            <!-- Tasks will be added here -->
                </ul>
                <div class="popup-footer">
                    <input type="text" id="newSchoolTask" placeholder="New Task">
                    <button onclick="addSchoolTask()">Add Task</button>
                </div>
            </div>
        </div>
        

        <div id="popup2" class="popup">
            <div class="popup-content">
                <span class="close">&times;</span>
                <ul id="groceryTaskList">

                </ul>
                <div class="popup-footer">
                    <input type="text" id="newGroceryTask" placeholder="New Task">
                    <button onclick="addGroceryTask()">Add Task</button>
                </div>
            </div>
        </div>
    <!-- Popup for Grocery -->

    <!-- Popup for Other -->
        <div id="popup3" class="popup">
            <div class="popup-content">
                <span class="close">&times;</span>
                <ul id="otherTaskList">
                    <!-- Other tasks will be added here -->
                </ul>
                <div class="popup-footer">
                    <input type="text" id="newOtherTask" placeholder="New Task">
                    <button onclick="addOtherTask()">Add Task</button>
                </div>
            </div>
        </div>



        <script>
            document.addEventListener('DOMContentLoaded', function() {
        // Function to update the day
        updateDay();

        // Function to handle opening of popups
        var popupLinks = document.querySelectorAll('.popup-box');
        popupLinks.forEach(function(link) {
            link.addEventListener('click', function(event) {
                event.preventDefault(); // Prevent default anchor behavior
                var popupId = this.getAttribute('href').substring(1);
                var popup = document.getElementById(popupId);
                if (popup) {
                    popup.style.display = 'block';
                }
            });
        });

        // Function to handle closing of popups
        var closeButtons = document.querySelectorAll('.popup .close');
        closeButtons.forEach(function(button) {
            button.addEventListener('click', function() {
                var popup = this.closest('.popup');
                if (popup) {
                    popup.style.display = 'none';
                }
            });
        });

        // Close the popup when clicking outside of it
        window.addEventListener('click', function(event) {
            if (event.target.classList.contains('popup')) {
                event.target.style.display = 'none';
            }
        });
    });

    function updateDay() {
        var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
        var now = new Date();
        var day = days[now.getDay()];
        var formattedDay = day + "'s To Do List";
        document.getElementById('current-day').innerText = formattedDay;
    }


    function addSchoolTask() {
        var task = document.getElementById('newSchoolTask').value;
        if (task.trim() !== '') {
            var li = document.createElement('li');
            var checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    li.style.textDecoration = 'line-through';
                } else {
                    li.style.textDecoration = 'none';
                }
            });

            li.appendChild(checkbox);
            var text = document.createTextNode(' ' + task);
            li.appendChild(text);
            document.getElementById('schoolTaskList').appendChild(li);
            document.getElementById('newSchoolTask').value = ''; // Clear the input
        }
    }


    function addGroceryTask() {
        var task = document.getElementById('newGroceryTask').value;
        if (task.trim() !== '') {
            var li = document.createElement('li');
            var checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    li.style.textDecoration = 'line-through';
                } else {
                    li.style.textDecoration = 'none';
                }
            });

            li.appendChild(checkbox);
            var text = document.createTextNode(' ' + task);
            li.appendChild(text);
            document.getElementById('groceryTaskList').appendChild(li); 
            document.getElementById('newGroceryTask').value = ''; 
        }
    }


    function addOtherTask() {
        var task = document.getElementById('newOtherTask').value;
        if (task.trim() !== '') {
            var li = document.createElement('li');
            var checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    li.style.textDecoration = 'line-through';
                } else {
                    li.style.textDecoration = 'none';
                }
            });

            li.appendChild(checkbox);
            var text = document.createTextNode(' ' + task);
            li.appendChild(text); // Corrected this line
            document.getElementById('otherTaskList').appendChild(li);
            document.getElementById('newOtherTask').value = ''; // Clear the input
        }
    }



        </script>
    </body>
    </html>